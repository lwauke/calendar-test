var N=Object.defineProperty,B=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var S=(t,e,n)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||(e={}))P.call(e,n)&&S(t,n,e[n]);if(F)for(var n of F(e))j.call(e,n)&&S(t,n,e[n]);return t},R=(t,e)=>B(t,O(e));import{o as d,c,a as y,u as Y,R as z,b as w,w as b,d as l,r as C,T as q,l as W,e as $,v as U,F as g,f as D,t as v,g as p,h as _,i as Z,j as M,p as H,k as X,n as A,m as G,q as K,s as J,x as Q,y as ee,z as te,A as se}from"./vendor.3ac1e7da.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};ne();const re={class:"app"},oe={setup(t){return(e,n)=>(d(),c("div",re,[y(Y(z))]))}},ie="modulepreload",x={},le="/",ae=function(e,n){return!n||n.length===0?e():Promise.all(n.map(o=>{if(o=`${le}${o}`,o in x)return;x[o]=!0;const s=o.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":ie,s||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),s)return new Promise((a,m)=>{i.addEventListener("load",a),i.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())},de=(t,e)=>{const n=new Date(t,e,1);return Array.from({length:n.getDay()},(s,r)=>({date:new Date(t,e,r*-1).getDate(),relativeMonth:-1})).reverse()},L=(t,{relativeMonth:e})=>Array.from({length:t},(n,o)=>({date:1+o,relativeMonth:e})),ce=(t,e)=>{const n=new Date(t,e+1,0),o=[...de(t,e),...L(n.getDate(),{relativeMonth:0})],s=L(7-o.length%7,{relativeMonth:1});return[...o,...s]};var f=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n};const ue={},me={class:"modal-mask"},_e={class:"modal-wrapper"},he={class:"modal-container"},fe={class:"modal-header"},pe={class:"modal-body"},ye={class:"modal-footer"};function ve(t,e){return d(),w(q,{name:"modal"},{default:b(()=>[l("div",me,[l("div",_e,[l("div",he,[l("div",fe,[l("h3",null,[C(t.$slots,"header",{},void 0,!0)])]),l("div",pe,[C(t.$slots,"body",{},void 0,!0)]),l("div",ye,[C(t.$slots,"footer",{},()=>[l("button",{class:"modal-default-button",onClick:e[0]||(e[0]=n=>t.$emit("close"))}," close ")],!0)])])])])]),_:3})}var E=f(ue,[["render",ve],["__scopeId","data-v-33e033e0"]]);const ge={props:["list","keySearch","keyList","initialFilter"],data(){return{filter:"",filteredList:[],show:!1}},watch:{filter(t){W(()=>{this.show=!0,this.filteredList=this.list.filter(e=>new RegExp(t,"ig").test(e[this.keySearch]||e))},150)()}},mounted(){this.$nextTick(()=>{this.filter=this.initialFilter})}},De={class:"container"},we={key:0,class:"autocomplete"},be=["onClick"];function ke(t,e,n,o,s,r){return d(),c("div",De,[$(l("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>s.filter=i),class:"filter"},null,512),[[U,s.filter]]),s.show&&s.filter&&s.filteredList.length?(d(),c("ul",we,[(d(!0),c(g,null,D(new Set(s.filteredList),i=>(d(),c("li",{class:"item",key:i[n.keyList]||i,onClick:a=>{t.$emit("selectItem",i),s.show=!1}},v(i[n.keySearch]||i),9,be))),128))])):p("",!0)])}var Re=f(ge,[["render",ke],["__scopeId","data-v-c5fd4fe8"]]);const Ce={0:"Non determined",1:"Clear sky",2:"Light clouds",3:"Partly cloudy",4:"Cloudy",5:"Rain",6:"Rain and snow / sleet",7:"Snow",8:"Rain shower",9:"Snow shower",10:"Sleet shower",11:"Light Fog",12:"Dense fog",13:"Freezing rain",14:"Thunderstorms",15:"Drizzle",16:"Sandstorm"},$e=t=>{const e=`${t/60/1e3%60}`.padStart(2,0);return`${`${Math.round(t/3600/1e3)}`.padStart(2,0)}:${e}:00`},Me=t=>t.replace(/\-(\d)(\D)/,"-0$1$2").replace(/\-(\d)$/g,"-0$1"),Ie=async(t,e,n)=>{const s=await(await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${t}&appid=e04040e27f92e36db440fe9a03d4be1e`)).json(),[{lat:r,lon:i}]=s,m=await(await fetch(`https://api.meteomatics.com/${Me(e)}T${$e(n)}Z/weather_symbol_1h:idx/${r},${i}/json`,{headers:new Headers({Authorization:"Basic bHVjYXN3YXVrZXNlcnZpY29zZGVpbmZvcm1hdGljYV93YXVrZTplOGlqNTVUMUxO"})})).json(),u=m?m.data[0].coordinates[0].dates[0].value:"0";return Ce[`${u}`.slice(-1)]},Fe=async function(){return(await(await fetch("https://countriesnow.space/api/v0.1/countries")).json()).data};const Se={props:["fullDate","edit","uuid"],components:{InputAutoComplete:Re},data(){return{color:"",reminder:"",start:"",end:"",activeUUID:"",country:"",city:"",countries:[],cities:[],weather:"",setTimeError:!1,success:!1,incompleteForm:!0}},methods:{handleTimeEnd(t){const e=t.target.valueAsNumber;if(e<this.start){this.setTimeError=!0;return}this.end=e},getReminderInput(){return{color:this.color,reminder:this.reminder,start:this.start,end:this.end,country:this.country,city:this.city}},missingFields(){const t=Object.values(this.getReminderInput()).some(e=>!e||e==="");return this.incompleteForm=t,t},addReminder(){this.missingFields()||(this.$store.commit("add",{date:this.fullDate,reminder:this.getReminderInput()}),this.success=!0)},editReminder(){this.missingFields()||(this.$store.commit("edit",{date:this.fullDate,reminder:this.getReminderInput(),uuid:this.uuid}),this.success=!0)},setCountry(t){this.country=t.country,this.cities=t.cities},async setCity(t){this.city=t,this.weather=await Ie(t,this.fullDate,this.start)}},async mounted(){if(this.edit){const{color:t,start:e,end:n,uuid:o,reminder:s,city:r,country:i}=this.$store.getters.getByUUID({date:this.fullDate,uuid:this.uuid});this.color=t,this.start=e,this.end=n,this.activeUUID=o,this.reminder=s,this.city=r,this.country=i}this.countries=await Fe()}},h=t=>(H("data-v-3acf2ba2"),t=t(),X(),t),xe={class:"form"},Le=h(()=>l("label",{for:"reminder","aria-labelledby":"Type a description for your reminder"}," Reminder: ",-1)),Te=h(()=>l("label",{for:"color"},"Choose a color",-1)),Ue=h(()=>l("option",null,"green",-1)),Ae=h(()=>l("option",null,"yellow",-1)),Ee=h(()=>l("option",null,"red",-1)),Ve=[Ue,Ae,Ee],Ne=h(()=>l("label",{for:"start","aria-labelledby":"time which the reminder will begin"}," Start ",-1)),Be=h(()=>l("label",{for:"end","aria-labelledby":"time which the reminder will finish"}," End ",-1)),Oe={key:0},Pe=h(()=>l("label",null,"Search and select a country:",-1)),je=["aria-labelledby"],Ye=h(()=>l("label",null,"Search and select a city:",-1)),ze=["aria-labelledby"],qe={key:5},We={key:6};function Ze(t,e,n,o,s,r){const i=_("InputAutoComplete");return d(),c("form",xe,[Le,$(l("textarea",{maxlength:"30","onUpdate:modelValue":e[0]||(e[0]=a=>s.reminder=a),id:"reminder"},null,512),[[U,s.reminder]]),Te,$(l("select",{name:"color",id:"color","onUpdate:modelValue":e[1]||(e[1]=a=>s.color=a)},Ve,512),[[Z,s.color]]),Ne,l("input",{type:"time",id:"start",name:"start",onChange:e[2]||(e[2]=a=>s.start=a.target.valueAsNumber)},null,32),Be,l("input",{type:"time",id:"end",name:"end",onChange:e[3]||(e[3]=(...a)=>r.handleTimeEnd&&r.handleTimeEnd(...a))},null,32),s.setTimeError?(d(),c("label",Oe,"Select a time after the start")):p("",!0),Pe,y(i,{list:s.countries,keySearch:"country",keyList:"iso3",onSelectItem:e[4]||(e[4]=a=>r.setCountry(a)),initialFilter:s.country},null,8,["list","initialFilter"]),s.country?(d(),c("label",{key:1,"aria-labelledby":`selected country is ${s.country}`},v(s.country),9,je)):p("",!0),Ye,y(i,{list:s.cities,onSelectItem:e[5]||(e[5]=a=>r.setCity(a)),disabled:!s.country,initialFilter:s.city},null,8,["list","disabled","initialFilter"]),s.city?(d(),c("label",{key:2,"aria-labelledby":`selected country is ${s.city}`},v(s.city),9,ze)):p("",!0),n.edit?(d(),c("button",{key:3,onClick:e[6]||(e[6]=M((...a)=>r.editReminder&&r.editReminder(...a),["prevent"]))},"edit")):(d(),c("button",{key:4,onClick:e[7]||(e[7]=M((...a)=>r.addReminder&&r.addReminder(...a),["prevent"]))},"add")),s.incompleteForm?(d(),c("span",qe,"You need to complete the form :)")):s.success?(d(),c("span",We,"Done!")):p("",!0)])}var V=f(Se,[["render",Ze],["__scopeId","data-v-3acf2ba2"]]);const He={props:["uuid","color","start","end","reminder","fullDate"],data(){return{showModal:!1}},methods:{deleteReminder:function(){this.$store.commit("delete",{date:this.fullDate,uuid:this.uuid})}}},Xe={class:"text"};function Ge(t,e,n,o,s,r){return d(),c("li",{class:A([n.color,"reminder"])},[l("span",Xe,v(n.reminder),1),l("button",{class:"btn",onClick:e[0]||(e[0]=M((...i)=>r.deleteReminder&&r.deleteReminder(...i),["stop"]))},"delete")],2)}var Ke=f(He,[["render",Ge],["__scopeId","data-v-3306210f"]]);const Je={props:["fullDate"],components:{ReminderItem:Ke,Modal:E,ReminderForm:V},data(){return{showModal:!1,activeUUID:""}},computed:{reminders:function(){var t,e;return((e=(t=this.$store)==null?void 0:t.getters)==null?void 0:e.getByDate(this.fullDate))||[]}}},Qe={class:"list"};function et(t,e,n,o,s,r){const i=_("ReminderForm"),a=_("Modal"),m=_("ReminderItem");return d(),c("div",null,[s.showModal?(d(),w(a,{key:0,onClose:e[0]||(e[0]=u=>s.showModal=!1)},{body:b(()=>[y(i,{edit:!0,uuid:s.activeUUID,fullDate:n.fullDate},null,8,["uuid","fullDate"])]),_:1})):p("",!0),l("ul",Qe,[(d(!0),c(g,null,D(r.reminders,u=>(d(),w(m,G({key:u.uuid},u,{fullDate:n.fullDate,onClick:gt=>{s.showModal=!0,s.activeUUID=u.uuid}}),null,16,["fullDate","onClick"]))),128))])])}var tt=f(Je,[["render",et],["__scopeId","data-v-0500e009"]]);const st={props:["date","fullDate","actualMonth"],components:{Modal:E,ReminderForm:V,ReminderList:tt},computed:{reminders:function(){return this.$store.getters.getByDate(this.fullDate)}},data(){return{showModal:!1}},methods:{deleteAll(){this.$store.commit("deleteAll",{date:this.fullDate})}}},nt={class:"cell"},rt={class:"container-btns"},ot=K(" add a reminder ");function it(t,e,n,o,s,r){const i=_("ReminderList"),a=_("ReminderForm"),m=_("Modal");return d(),c("td",nt,[l("span",{class:A([{actualMonth:n.actualMonth},"date"])},v(n.date),3),l("div",rt,[l("button",{class:"btn",onClick:e[0]||(e[0]=u=>s.showModal=!0)},"+"),l("button",{class:"btn",onClick:e[1]||(e[1]=(...u)=>r.deleteAll&&r.deleteAll(...u))},"delete all")]),y(i,{fullDate:n.fullDate,class:"list"},null,8,["fullDate"]),s.showModal?(d(),w(m,{key:0,onClose:e[2]||(e[2]=u=>s.showModal=!1)},{header:b(()=>[ot]),body:b(()=>[y(a,{fullDate:n.fullDate},null,8,["fullDate"])]),_:1})):p("",!0)])}var lt=f(st,[["render",it],["__scopeId","data-v-5c2f8398"]]);const T=new Date,at={components:{Date:lt},data(){return{month:T.getMonth(),year:T.getFullYear(),days:[],weeks:0}},mounted(){this.getDaysFromDate()},computed:{headers:function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},methods:{getDaysFromDate(){this.days=ce(this.year,this.month)},getWeek(t){const e=(t-1)*7;return this.days.slice(e,e+7)},handleDate(t){const e=new Date(t.target.value);this.month=e.getMonth(),this.year=e.getFullYear(),this.getDaysFromDate()}}},dt={class:"calendar"},ct={class:"header-row"};function ut(t,e,n,o,s,r){const i=_("Date");return d(),c("div",null,[l("input",{type:"date",onChange:e[0]||(e[0]=(...a)=>r.handleDate&&r.handleDate(...a)),step:"30"},null,32),l("table",dt,[l("thead",ct,[(d(!0),c(g,null,D(r.headers,a=>(d(),c("th",{key:a,class:"header"},v(a),1))),128))]),(d(!0),c(g,null,D(s.days.length/7,a=>(d(),c("tr",{key:a,class:"row"},[(d(!0),c(g,null,D(r.getWeek(a),({date:m,relativeMonth:u})=>(d(),w(i,{key:m+s.month,date:m,actualMonth:u===0,fullDate:`${s.year}-${s.month+u}-${m}`},null,8,["date","actualMonth","fullDate"]))),128))]))),128))])])}var mt=f(at,[["render",ut],["__scopeId","data-v-4e5c10a6"]]);const _t={components:{Calendar:mt}},ht=l("h2",{class:"title"},"Home",-1);function ft(t,e,n,o,s,r){const i=_("Calendar");return d(),c("main",null,[ht,y(i)])}var pt=f(_t,[["render",ft]]);const yt=J({history:Q("/"),routes:[{path:"/",name:"home",component:pt},{path:"/reusing",name:"reusing",component:()=>ae(()=>import("./ReusingView.8d975490.js"),["assets/ReusingView.8d975490.js","assets/vendor.3ac1e7da.js"])}]}),vt=ee({state(){return{}},mutations:{add(t,{date:e,reminder:n}){t[e]=[t[e]||[],R(k({},n),{uuid:se()})].flat()},delete(t,{date:e,uuid:n}){t[e]=t[e].filter(o=>o.uuid!==n)},deleteAll(t,{date:e}){t[e]=[]},edit(t,{date:e,reminder:n,uuid:o}){t[e]=[...t[e].filter(s=>s.uuid!==o),R(k({},n),{uuid:o})]}},getters:{getByDate:t=>e=>{var n;return(n=t[e])==null?void 0:n.sort((o,s)=>o.start-s.start)},getByUUID:t=>({date:e,uuid:n})=>t[e].find(o=>o.uuid===n)}}),I=te(oe);I.use(yt);I.use(vt);I.mount("#app");export{f as _};
